{% if customer %}
  <section aria-label="Profile" class="max-w-4xl mx-auto py-12 px-6 font-sans text-gray-800">
    <h1 class="text-3xl font-semibold mb-8">Profile</h1>

    <!-- Profile details -->
    <div id="profile-details" class="bg-white shadow-sm border rounded-xl p-6 mb-8">
      <h2 class="text-lg font-medium mb-4">Account Information</h2>
      <div class="space-y-2">
        <p><strong>Name:</strong> {{ customer.first_name }} {{ customer.last_name }}</p>
        <p><strong>Email:</strong> {{ customer.email }}</p>
        {% if customer.phone %}
          <p><strong>Phone:</strong> {{ customer.phone }}</p>
        {% endif %}
      </div>
      <a href="{{ routes.account_addresses_url }}" class="text-blue-600 hover:underline mt-4 inline-block">
        Manage addresses â†’
      </a>
    </div>

    <!-- Company info (if metafield or tag exists) -->
    {% if customer.metafields.company %}
      <section aria-label="Company" class="bg-white shadow-sm border rounded-xl p-6 mb-8">
        <h2 class="text-lg font-medium mb-4">Company</h2>
        <p>{{ customer.metafields.company.value }}</p>
      </section>
    {% endif %}

    <!-- Addresses -->
    <section aria-label="Addresses" class="bg-white shadow-sm border rounded-xl p-6 mb-8">
      <h2 class="text-lg font-medium mb-4">Addresses</h2>
      {% for address in customer.addresses %}
        <div class="border-b pb-4 mb-4">
          <p><strong>{{ address.name }}</strong></p>
          <p>{{ address.address1 }}</p>
          {% if address.address2 != blank %}
            <p>{{ address.address2 }}</p>
          {% endif %}
          <p>{{ address.city }}, {{ address.province }} {{ address.zip }}</p>
          <p>{{ address.country }}</p>
          {% if address.default %}
            <p class="text-sm text-gray-500">(Default address)</p>
          {% endif %}
        </div>
      {% else %}
        <p>No addresses yet.</p>
      {% endfor %}
    </section>

    <!-- Staff and permissions -->
    {% if customer.tags contains "staff" %}
      <section aria-label="Staff and permissions" class="bg-white shadow-sm border rounded-xl p-6 mb-8">
        <h2 class="text-lg font-medium mb-4">Staff and Permissions</h2>
        <p>Name: {{ customer.first_name }} {{ customer.last_name }}</p>
        <p>Email: {{ customer.email }}</p>
        <p>Permissions: Ordering only</p>
      </section>
    {% endif %}

    <!-- Logout -->
    <div class="text-center">
      <a href="{{ routes.account_logout_url }}" class="text-gray-600 hover:text-gray-900 text-sm">
        Log out
      </a>
    </div>
  </section>

{% else %}
  <div class="text-center py-20">
    <h2 class="text-2xl font-medium mb-4">Please log in</h2>
    <a href="{{ routes.account_login_url }}" class="text-blue-600 hover:underline">Go to login page</a>
  </div>
{% endif %}
